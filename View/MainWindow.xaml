<Window x:Class="View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:View"
        xmlns:vm="clr-namespace:ViewModel;assembly=ViewModel"
        mc:Ignorable="d"
        Title="MainWindow" Height="566.447" Width="616.638">
    <Window.DataContext>
        <vm:VMMainWindow/>
    </Window.DataContext>
    <Window.Resources>
        <DataTemplate x:Key = "todoTemplate">

            <StackPanel Orientation = "Horizontal">
                <CheckBox IsChecked="{Binding Path= Completed}"></CheckBox>
                <TextBlock Text="{Binding Path= Title}"></TextBlock>
            </StackPanel>

        </DataTemplate>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            
            <RowDefinition></RowDefinition>
            <RowDefinition></RowDefinition>

        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <!--Elements-->
        <StackPanel Name="StackPanelLogin" Margin="10">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="10,0">Username:</TextBlock>
                <TextBox Name="TextBoxUsername" Text="{Binding Username}" MinWidth="150"></TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="10,0">Password:</TextBlock>
                <TextBox Name="PasswordBox" Text="{Binding Password}" MinWidth="150"></TextBox>
            </StackPanel>

        </StackPanel>

        <StackPanel Name="StackPanelButtons" VerticalAlignment="Bottom" Margin="10">
            <Button Name="ButtonFetch" Command="{Binding FetchCommand}">Fetch Todo-List</Button>
            <Button Name="ButtonSave" Command="{Binding SendCommand}">Send Todo-List</Button>
            <Button Name="ButtonCreate" Command="{Binding CreateCommand}">Create new Todo</Button>
            <Button Name="ButtonDelete" Command="{Binding DeleteCommand}">Delete selected Todo</Button>
        </StackPanel>


        <ListBox Name="ListBoxTodos" ItemsSource="{Binding TodoList}" ItemTemplate="{StaticResource todoTemplate}" VerticalAlignment="Stretch" Grid.Row="1" Margin="10"  ></ListBox>

        <StackPanel Name="StackPanelTodoDetails" Grid.Column="1" Grid.RowSpan="2" Margin="10">
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <TextBlock Margin="10,0">Title: </TextBlock>
                <TextBox Name="TextBoxTitle" MinWidth="200" Text="{Binding ElementName=ListBoxTodos, Path=SelectedItem.Text}"></TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <TextBlock Margin="10,0">Description:</TextBlock>
                <TextBox Name="TextBoxDesc" MinWidth="200" MinLines="3" Text="{Binding ElementName=ListBoxTodos, Path=SelectedItem.Notes}"></TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">

                <ComboBox Name="ComboBoxChecklist" ItemsSource="{Binding ElementName=ListBoxTodos, Path=SelectedItem.Checklist}" Margin="10,0"></ComboBox>
                
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <CheckBox IsChecked="{Binding ElementName=ComboBoxChecklist, Path=SelectedItem.Completed}" Margin="10,0"></CheckBox>
                <TextBox Name="TextBoxChecklistItem" MinWidth="200" Text="{Binding ElementName=ComboBoxChecklist, Path=SelectedItem.Text}"></TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <TextBlock ToolTip="Format: DD.MM.YYYY" Margin="10,0">Due on: </TextBlock>
                <TextBox Name="TextBoxDueDate" MinWidth="200" Text="{Binding ElementName=ListBoxTodos, Path=SelectedItem.Date}"></TextBox>
            </StackPanel>
        </StackPanel>
        
    </Grid>
</Window>